parameters:
- name: version
  type: string
  default: '8'

steps:
  - task: JavaToolInstaller@0
    inputs:
      versionSpec: ${{ parameters.version }}
      jdkArchitectureOption: 'x64'
      jdkSourceOption: 'PreInstalled'
  - bash: exit 1
    displayName: JDK ${{ parameters.version }} could not be set.
    condition: eq(variables['Agent.JobStatus'], 'SucceededWithIssues')
